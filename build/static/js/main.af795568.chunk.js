(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{102:function(e,t,n){"use strict";n.r(t);n(54);var r,c,a,o,u=n(0),s=n.n(u),i=n(22),l=n.n(i),b=n(8),d=n(14),f=n(50),m=n(33),O=n(34),g=n(36),j=n(35),h=n(6),p=n(25),E=function(e){return e.auth.isUserInLogin},C=function(e){return e.auth.user.name},v=E,S=Object(b.b)((function(e){return{isAuthenticated:v(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(p.a)(e,["component","isAuthenticated","redirectTo"]);return s.a.createElement(h.b,Object.assign({},c,{render:function(e){return n?s.a.createElement(t,e):s.a.createElement(h.a,{to:r})}}))})),y=E,_=Object(b.b)((function(e){return{isAuthenticated:y(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(p.a)(e,["component","isAuthenticated","redirectTo"]);return s.a.createElement(h.b,Object.assign({},c,{render:function(e){return n&&c.restricted?s.a.createElement(h.a,{to:r}):s.a.createElement(t,e)}}))})),N=n(40),x=n.n(N),R=n(21),U=n(31),k=n.n(U),q=n(26),w=n.n(q),A=E,B=Object(b.b)((function(e){return{isAuthenticated:A(e)}}))((function(e){var t=e.isAuthenticated;return s.a.createElement("nav",{className:w.a.mainNavBox},s.a.createElement(d.b,{to:"/",exact:!0,activeStyle:{color:"#656566"},className:w.a.mainNav},"Home"),t&&s.a.createElement(d.b,{to:"/contacts",activeStyle:{color:"#656566"},className:w.a.mainNav},"Contacts"))})),T=n(32),z=n.n(T),L=function(){return s.a.createElement("div",null,s.a.createElement(d.b,{activeStyle:{color:"#656566"},className:z.a.secondNav,to:"/register",exact:!0},"Registration"),s.a.createElement(d.b,{activeStyle:{color:"#656566"},className:z.a.secondNav,to:"/login",exact:!0},"Authorization"))},M=n(20),F=n.n(M),G=C,I=R.a.logOut,P=Object(b.b)((function(e){return{name:G(e)}}),(function(e){return{makeLogOut:function(){return e(I())}}}))((function(e){var t=e.name,n=e.makeLogOut;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:F.a.welcomeBox},s.a.createElement("div",{className:F.a.welcomeText},"Welcome,"),s.a.createElement("div",{className:F.a.welcomeName},t)),s.a.createElement("button",{className:F.a.btnLogout,type:"button",onClick:n},"Logout"))})),W=E,D=Object(b.b)((function(e){return{isAuthenticated:W(e)}}))((function(e){var t=e.isAuthenticated;return s.a.createElement("div",{className:k.a.appBarBox},s.a.createElement("header",null,s.a.createElement(B,null),s.a.createElement("div",{className:k.a.secondMenuBox},t?s.a.createElement(P,null):s.a.createElement(L,null))))})),H=n(51),J=n.n(H),Y=function(e){var t=e.children;return s.a.createElement("div",{className:J.a.containerGeneral},t)},K=Object(u.lazy)((function(){return n.e(1).then(n.bind(null,121))})),Q=Object(u.lazy)((function(){return n.e(0).then(n.bind(null,124))})),Z=Object(u.lazy)((function(){return n.e(4).then(n.bind(null,122))})),V=Object(u.lazy)((function(){return n.e(2).then(n.bind(null,123))})),X=R.a.getCurrentUser,$=function(e){Object(g.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"render",value:function(){return s.a.createElement(Y,null,s.a.createElement(D,null),s.a.createElement(u.Suspense,{fallback:s.a.createElement(x.a,{type:"Puff",color:"#666464",height:60,width:60})},s.a.createElement(h.d,null,s.a.createElement(_,{exact:!0,path:"/",component:K}),s.a.createElement(_,{path:"/register",component:Z,restricted:!0,redirectTo:"/contacts"}),s.a.createElement(_,{path:"/login",component:V,restricted:!0,redirectTo:"/contacts"}),s.a.createElement(S,{path:"/contacts",component:Q,redirectTo:"/login"}))))}}]),n}(u.Component),ee=Object(b.b)(null,(function(e){return{getUser:function(){return e(X())}}}))($),te=n(24),ne=n(1),re=n(17),ce=n(52),ae=n.n(ce),oe=n(37),ue=n(2),se=n(7),ie=n(5),le=ie.a.registerSuccess,be=ie.a.registerError,de=ie.a.loginSuccess,fe=ie.a.loginError,me=ie.a.logoutSuccess,Oe=ie.a.logoutError,ge=ie.a.getCurrentUserSuccess,je=ie.a.getCurrentUserError,he={name:null,email:null},pe=Object(ne.c)(he,(r={},Object(ue.a)(r,le,(function(e,t){return t.payload.user})),Object(ue.a)(r,de,(function(e,t){return t.payload.user})),Object(ue.a)(r,me,(function(e,t){return he})),Object(ue.a)(r,ge,(function(e,t){return t.payload})),r)),Ee=Object(ne.c)(null,(c={},Object(ue.a)(c,le,(function(e,t){return t.payload.token})),Object(ue.a)(c,de,(function(e,t){return t.payload.token})),Object(ue.a)(c,me,(function(e,t){return null})),c)),Ce=function(e,t){return t.payload},ve=Object(ne.c)(null,(a={},Object(ue.a)(a,be,Ce),Object(ue.a)(a,fe,Ce),Object(ue.a)(a,Oe,Ce),Object(ue.a)(a,je,Ce),a)),Se=Object(ne.c)(!1,(o={},Object(ue.a)(o,le,(function(){return!0})),Object(ue.a)(o,de,(function(){return!0})),Object(ue.a)(o,ge,(function(){return!0})),Object(ue.a)(o,be,(function(){return!1})),Object(ue.a)(o,fe,(function(){return!1})),Object(ue.a)(o,je,(function(){return!1})),Object(ue.a)(o,me,(function(){return!1})),o)),ye=Object(se.c)({user:pe,isUserInLogin:Se,token:Ee,error:ve}),_e=Object(te.a)(Object(ne.d)({serializableCheck:{ignoredActions:[re.a,re.f,re.b,re.c,re.d,re.e]}})),Ne={key:"auth",storage:ae.a,whitelist:["token"]},xe=Object(ne.a)({reducer:{auth:Object(re.g)(Ne,ye),contacts:oe.a},middleware:_e}),Re={store:xe,persistor:Object(re.h)(xe)};l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(b.a,{store:Re.store},s.a.createElement(f.a,{loading:null,persistor:Re.persistor},s.a.createElement(d.a,null,s.a.createElement(ee,null))))),document.getElementById("root"))},15:function(e,t,n){"use strict";var r=n(1),c=Object(r.b)("contacts/fetchContactsRequest"),a=Object(r.b)("contacts/fetchContactsSuccess"),o=Object(r.b)("contacts/fetchContactsError"),u=Object(r.b)("contacts/addContactRequest"),s=Object(r.b)("contacts/addContactSuccess"),i=Object(r.b)("contacts/addContactError"),l=Object(r.b)("contacts/deleteContactRequest"),b=Object(r.b)("contacts/deleteContactSuccess"),d=Object(r.b)("contacts/deleteContactError"),f=Object(r.b)("contacts/Filter");t.a={fetchContactsRequest:c,fetchContactsSuccess:a,fetchContactsError:o,addContactRequest:u,addContactSuccess:s,addContactContactsError:i,deleteContactRequest:l,deleteContactSuccess:b,deleteContactError:d,changeFilter:f}},20:function(e,t,n){e.exports={welcomeBox:"UserMenu_welcomeBox__1YRi7",welcomeText:"UserMenu_welcomeText__nQRP1",welcomeName:"UserMenu_welcomeName__2HYGg",btnLogout:"UserMenu_btnLogout__dfKng"}},21:function(e,t,n){"use strict";var r=n(18),c=n.n(r),a=n(5),o=a.a.registerRequest,u=a.a.registerSuccess,s=a.a.registerError,i=a.a.logoutRequest,l=a.a.logoutSuccess,b=a.a.logoutError,d=a.a.loginRequest,f=a.a.loginSuccess,m=a.a.loginError,O=a.a.getCurrentUserRequest,g=a.a.getCurrentUserSuccess,j=a.a.getCurrentUserError;c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var h=function(e){c.a.defaults.headers.common.Authorization="Bearer ".concat(e)},p=function(){c.a.defaults.headers.common.Authorization=""};t.a={register:function(e){return function(t){t(o()),c.a.post("/users/signup",e).then((function(e){return t(u(e.data),h(e.data.token))})).catch((function(e){return t(s(e.message))}))}},login:function(e){return function(t){t(d()),c.a.post("/users/login",e).then((function(e){return t(f(e.data),h(e.data.token))})).catch((function(e){return t(m(e.message))}))}},logOut:function(){return function(e){e(i()),c.a.post("/users/logout").then((function(){return e(l())}),p()).catch((function(t){return e(b(t.message))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(h(n),e(O()),c.a.get("/users/current").then((function(t){return e(g(t.data))})).catch((function(t){return e(j(t.message))})))}}}},26:function(e,t,n){e.exports={mainNav:"Navigation_mainNav__DPxWw"}},31:function(e,t,n){e.exports={appBarBox:"AppBar_appBarBox__3UIem",secondMenuBox:"AppBar_secondMenuBox__33W4Z"}},32:function(e,t,n){e.exports={secondNav:"AuthNav_secondNav__24xzf"}},37:function(e,t,n){"use strict";var r,c,a,o=n(2),u=n(24),s=n(7),i=n(1),l=n(15),b=l.a.fetchContactsRequest,d=l.a.fetchContactsSuccess,f=l.a.fetchContactsError,m=l.a.addContactRequest,O=l.a.addContactSuccess,g=l.a.addContactContactsError,j=l.a.deleteContactRequest,h=l.a.deleteContactSuccess,p=l.a.deleteContactError,E=l.a.changeFilter,C=Object(i.c)([],(r={},Object(o.a)(r,d,(function(e,t){return t.payload})),Object(o.a)(r,O,(function(e,t){var n=t.payload;return[].concat(Object(u.a)(e),[n])})),Object(o.a)(r,h,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),v=Object(i.c)("",Object(o.a)({},E,(function(e,t){return t.payload}))),S=Object(i.c)(!1,(c={},Object(o.a)(c,b,(function(){return!0})),Object(o.a)(c,d,(function(){return!1})),Object(o.a)(c,f,(function(){return!1})),Object(o.a)(c,m,(function(){return!0})),Object(o.a)(c,O,(function(){return!1})),Object(o.a)(c,g,(function(){return!1})),Object(o.a)(c,j,(function(){return!0})),Object(o.a)(c,h,(function(){return!1})),Object(o.a)(c,p,(function(){return!1})),c)),y=Object(i.c)(null,(a={},Object(o.a)(a,f,(function(e,t){return t.payload})),Object(o.a)(a,g,(function(e,t){return t.payload})),Object(o.a)(a,p,(function(e,t){return t.payload})),a));t.a=Object(s.c)({items:C,filter:v,loading:S,error:y})},5:function(e,t,n){"use strict";var r=n(1),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),d=Object(r.b)("auth/logoutError"),f=Object(r.b)("auth/getCurrentUserRequest"),m=Object(r.b)("auth/getCurrentUserSuccess"),O=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:c,registerSuccess:a,registerError:o,logoutRequest:l,logoutSuccess:b,logoutError:d,loginRequest:u,loginSuccess:s,loginError:i,getCurrentUserRequest:f,getCurrentUserSuccess:m,getCurrentUserError:O}},51:function(e,t,n){e.exports={containerGeneral:"ContainerGeneralForPage_containerGeneral__1ni6F"}},53:function(e,t,n){e.exports=n(102)}},[[53,5,6]]]);
//# sourceMappingURL=main.af795568.chunk.js.map